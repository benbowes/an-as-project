package com.benbowes{	import flash.net.*;	import flash.display.*;	import flash.events.*;	import flash.text.*;	import com.greensock.*;	import com.greensock.easing.*;    public class MenuBtn extends MovieClip{				private var SCOPE;		public var itemIndex;		public var labelText;		private var btnBg:Sprite;		        public function MenuBtn() {			SCOPE = this;            SCOPE.addEventListener(Event.ADDED_TO_STAGE, init,false,0,true);			SCOPE.addEventListener(Event.REMOVED_FROM_STAGE, kill,false,0,true);        }				private function init(e:Event):void{			SCOPE.buttonMode = true;			SCOPE.mouseChildren = false;			SCOPE.mouseEnabled = true;			SCOPE.tf.defaultTextFormat = SCOPE.tf.getTextFormat();			SCOPE.tf.text = labelText;			SCOPE.tf.autoSize = "left";						btnBg = new Sprite();			btnBg.graphics.beginFill (0x5da146);			btnBg.graphics.drawRoundRect (0, -3, SCOPE.tf.width+20, 20, 6, 6);			btnBg.graphics.endFill ();			btnBg.x = SCOPE.tf.x;			btnBg.y = SCOPE.tf.y-1;			btnBg.alpha = 0;			SCOPE.addChildAt (btnBg, 0);			SCOPE.addEventListener(MouseEvent.ROLL_OVER,overHandler,false,0,true);			SCOPE.addEventListener(MouseEvent.ROLL_OUT,outHandler,false,0,true);		}				private function overHandler(e:Event=null):void{			//TweenMax.to(btnBg,0,{scaleX:0.01});			TweenMax.to(btnBg,0.4,{alpha:1,scaleX:1, ease:Quint.easeOut});			TweenMax.to(tf,0.2,{tint:0xffffff, x:10, ease:Quint.easeOut});		}		private function outHandler(e:Event=null):void{			TweenMax.to(btnBg,0.4,{scaleX:0.1, ease:Expo.easeOut});			TweenLite.to(btnBg,0.2,{delay:0.1, alpha:0, ease:Expo.easeOut});			TweenMax.to(tf,0.4,{removeTint:true, x:0, ease:Expo.easeOut});		}				public function select():void{			SCOPE.removeEventListener(MouseEvent.ROLL_OVER,overHandler);			SCOPE.removeEventListener(MouseEvent.ROLL_OUT,outHandler);			SCOPE.buttonMode=false;			SCOPE.mouseEnabled=false;			overHandler();		}		public function deselect():void{			SCOPE.addEventListener(MouseEvent.ROLL_OVER,overHandler,false,0,true);			SCOPE.addEventListener(MouseEvent.ROLL_OUT,outHandler,false,0,true);			SCOPE.buttonMode=true;			SCOPE.mouseEnabled=true;			outHandler();		}				//////////////////////////////////////////////////////////////////		private function kill(e:Event):void{			TweenMax.killChildTweensOf (SCOPE);			SCOPE.removeEventListener(Event.REMOVED_FROM_STAGE, kill);			SCOPE = null;		}    }}