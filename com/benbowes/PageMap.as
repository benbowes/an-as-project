package com.benbowes{	import flash.net.*;	import flash.display.*;	import flash.events.*;	import flash.text.*;	import com.greensock.*;	import com.greensock.easing.*;	import com.benbowes.Global;	import com.benbowes.Utility;      public class PageMap extends Sprite{		private var SCOPE;		private var LEN:int;		private var xSpacing:Number = 0;		private var ySpacing:Number = 0;		private var myTimeline:TimelineMax; 		        public function PageMap() {			SCOPE = this;            SCOPE.addEventListener(Event.ADDED_TO_STAGE, init,false,0,true);			SCOPE.addEventListener(Event.REMOVED_FROM_STAGE, kill,false,0,true);        }		public function init(e:Event = null){		   //<location heading="Etihad Stadium" x="308" y="240" offscreen="false" />  		    myTimeline = new TimelineMax();   		    			myTimeline.insert( TweenMax.from(map,0.6,{colorMatrixFilter:{brightness:3, contrast:1.5}, delay:0.8, ease:Quint.easeInOut}) ); 		    TweenMax.from(map.rolloverMessageTf,0.6,{alpha:0, delay:2, ease:Quint.easeInOut})		    LEN = Global.FLASHVARS.mapXML.map.location.length();		    var SPLIT:int = Math.ceil(LEN/2)			for(var i=0; i<LEN; i++){				var mc = new mapBtn(); 				mc.itemIndex = i;				mc.labelText = Global.FLASHVARS.mapXML.map.location[i].@heading.toUpperCase();				mc.X = Number(Global.FLASHVARS.mapXML.map.location[i].@x) + map.x;				mc.Y = Number(Global.FLASHVARS.mapXML.map.location[i].@y) + map.y; 				mc.offScreen = Global.FLASHVARS.mapXML.map.location[i].@offscreen;  				(i%SPLIT == 0 && i != 0) ? xSpacing += 260:null;				mc.x = (62 + xSpacing);				mc.y = 430 + ((i%SPLIT)*20);   				SCOPE.addChild(mc);				myTimeline.insert( TweenMax.from(mc,0.6,{alpha:0, delay:1 + (i*0.02), ease:Quint.easeInOut}) );			}		}    		public function hide() {			myTimeline.timeScale = 3;                myTimeline.reverse(); 		}		//////////////////////////////////////////////////////////////////		private function kill(e:Event):void{			TweenMax.killChildTweensOf (SCOPE);			SCOPE.removeEventListener(Event.REMOVED_FROM_STAGE, kill);			SCOPE = null;		}    }}