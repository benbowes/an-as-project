package com.benbowes{  	import flash.net.*;	import flash.system.*;	import flash.display.*;	import flash.events.*;	import flash.utils.getDefinitionByName;	import com.benbowes.EventNavigation;   //import com.benbowes.EventKill;	import com.benbowes.Global;	import com.asual.swfaddress.SWFAddress;	import com.asual.swfaddress.SWFAddressEvent;	import com.greensock.*;	import com.greensock.easing.*;	public class NavigationHome extends Sprite {		private var SCOPE;		private var currentSelected:MovieClip = null;		private var XML_DATA:XML;		private var LEN:int;		private var CURRENT_BG;		private var PREVIOUS_BG;		private var BG;		private var MAIN;		public function NavigationHome() {			SCOPE = this;			SCOPE.addEventListener(Event.ADDED_TO_STAGE,init,false,0,true);		}		private function init(e:Event = null) {   		   		    BG = SCOPE.parent.parent.getChildByName("bg");         					XML_DATA = Global.FLASHVARS.navigationXML;			LEN = XML_DATA.navigationItem.length();	    			for (var i:int = 0; i<LEN; i++) {				var mc = new menuBtn();				mc.cacheAsBitmap = true;				mc.y = 107 + (i*21);				mc.itemIndex = i;				mc.bgImageFullUrl = XML_DATA.navigationItem[i].bgImage.text();				mc.bgImageAlign = XML_DATA.navigationItem[i].bgImagePosition.text();				mc.labelText = XML_DATA.navigationItem[i].buttonLabel.text();				SCOPE.addChild(mc);				TweenMax.from(mc,1,{alpha:0, x:30, delay:i*0.05, blurFilter:{blurX:16}, ease:Quint.easeInOut});								// SET SWF ADDRESS FROM navigation.xml				mc.SWFAddressLocation = XML_DATA.navigationItem[i].SWFAddressLocation.text();				mc.SWFAddressTitle = XML_DATA.navigationItem[i].SWFAddressTitle.text();				mc.className = XML_DATA.navigationItem[i].className.text();				mc.name = XML_DATA.navigationItem[i].buttonInstanceName.text();				mc.navTweenToX = XML_DATA.navigationItem[i].navTweenToX.text();				mc.navTweenToY = XML_DATA.navigationItem[i].navTweenToY.text();				mc.addEventListener (MouseEvent.CLICK, handleNavClick, false, 0, true);			}						SWFAddress.addEventListener (SWFAddressEvent.CHANGE, handleSWFAddress, false,0,true);			SCOPE.addEventListener (EventNavigation.NEW_SECTION, transitionContentBegin, false,0,true);       									TweenMax.to(logo,0,{alpha:0, ease:Quint.easeOut});			TweenMax.to(logo,2,{alpha:1, ease:Quint.easeInOut});						logo.buttonMode = true;			logo.addEventListener(MouseEvent.CLICK, handleLogoClick, false, 0, true);			logo.addEventListener(MouseEvent.ROLL_OVER, over, false, 0, true);			logo.addEventListener(MouseEvent.ROLL_OUT, out, false, 0, true);		}			private function handleLogoClick(e:Event = null):void{			SWFAddress.setValue("");			SWFAddress.setTitle("ILLURA APARTMENTS WEST MELBOURNE");		}  		private function over(e){		   TweenMax.to (e.target,0.3,{alpha:0.7, ease:Quint.easeOut}); 		}		private function out(e){			TweenMax.to (e.target,0.4,{alpha:1, ease:Quint.easeInOut}); 		}		     		private function handleNavClick(e:Event):void{ 						// trace("handleNavClick navHome");					    setButton(e.target);		     		    SWFAddress.setValue(e.target.SWFAddressLocation);		    SWFAddress.setTitle(e.target.SWFAddressTitle);							//////////////////////////////////////////////////			// Send Google Analitics Here using externalInterface see my80.com.au | use the string mc.SWFAddressLocation			//////////////////////////////////////////////////		}				public function setButton(mc){			//trace(mc.name,mc.SWFAddressLocation,mc.SWFAddressTitle,mc.className);						if(mc != currentSelected){ // set button enabled/disabled   				if(mc != null){					mc.select(); // select new btn  				}				if(currentSelected != null){ // for first click this is null					currentSelected.deselect();  // deselect old btn				}				currentSelected = mc; // set for next time			}		}				///////////////////////////////////////////////////////////////////////////////////////				private function handleSWFAddress (e:SWFAddressEvent) {  	         // see navigation.as		}				private function transitionContentBegin (e:EventNavigation) {	   		 // see navigation.as		}		private function transitionContentEnd (oldIns:*, clas:String) {   			// see navigation.as		}         		      			}}		  